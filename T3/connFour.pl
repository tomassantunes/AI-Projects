estado_inicial([[v,v,v,v,v,v],
                [v,v,v,v,v,v],
                [v,v,v,v,v,v],
                [v,v,v,v,v,v],
                [v,v,v,v,v,v],
                [v,v,v,v,v,v],
                [v,v,v,v,v,v]]).

terminal(G) :- linhas(G,_).
terminal(G) :- colunas(G,_).
terminal(G) :- diagonais(G,_).
terminal(G) :- cheio(G).

linhas([[X,X,X,X,_,_],_,_,_,_,_,_],X) :- X \= v.
linhas([[_,X,X,X,X,_],_,_,_,_,_,_],X) :- X \= v.
linhas([[_,_,X,X,X,X],_,_,_,_,_,_],X) :- X \= v.

linhas([_,[X,X,X,X,_,_],_,_,_,_,_],X) :- X \= v.
linhas([_,[_,X,X,X,X,_],_,_,_,_,_],X) :- X \= v.
linhas([_,[_,_,X,X,X,X],_,_,_,_,_],X) :- X \= v.

linhas([_,_,[X,X,X,X,_,_],_,_,_,_],X) :- X \= v.
linhas([_,_,[_,X,X,X,X,_],_,_,_,_],X) :- X \= v.
linhas([_,_,[_,_,X,X,X,X],_,_,_,_],X) :- X \= v.

linhas([_,_,_,[X,X,X,X,_,_],_,_,_],X) :- X \= v.
linhas([_,_,_,[_,X,X,X,X,_],_,_,_],X) :- X \= v.
linhas([_,_,_,[_,_,X,X,X,X],_,_,_],X) :- X \= v.

linhas([_,_,_,_,[X,X,X,X,_,_],_,_],X) :- X \= v.
linhas([_,_,_,_,[_,X,X,X,X,_],_,_],X) :- X \= v.
linhas([_,_,_,_,[_,_,X,X,X,X],_,_],X) :- X \= v.

linhas([_,_,_,_,_,[X,X,X,X,_,_],_],X) :- X \= v.
linhas([_,_,_,_,_,[_,X,X,X,X,_],_],X) :- X \= v.
linhas([_,_,_,_,_,[_,_,X,X,X,X],_],X) :- X \= v.

linhas([_,_,_,_,_,_,[X,X,X,X,_,_]],X) :- X \= v.
linhas([_,_,_,_,_,_,[_,X,X,X,X,_]],X) :- X \= v.
linhas([_,_,_,_,_,_,[_,_,X,X,X,X]],X) :- X \= v.

colunas([[X,_,_,_,_,_],
         [X,_,_,_,_,_],
         [X,_,_,_,_,_],
         [X,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_]],X) :- X \= v.

colunas([[_,_,_,_,_,_],
         [X,_,_,_,_,_],
         [X,_,_,_,_,_],
         [X,_,_,_,_,_],
         [X,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_]],X) :- X \= v.

colunas([[_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [X,_,_,_,_,_],
         [X,_,_,_,_,_],
         [X,_,_,_,_,_],
         [X,_,_,_,_,_],
         [_,_,_,_,_,_]],X) :- X \= v.

colunas([[_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [X,_,_,_,_,_],
         [X,_,_,_,_,_],
         [X,_,_,_,_,_],
         [X,_,_,_,_,_]],X) :- X \= v.

colunas([[_,X,_,_,_,_],
         [_,X,_,_,_,_],
         [_,X,_,_,_,_],
         [_,X,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_]],X) :- X \= v.

colunas([[_,_,_,_,_,_],
         [_,X,_,_,_,_],
         [_,X,_,_,_,_],
         [_,X,_,_,_,_],
         [_,X,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_]],X) :- X \= v.

colunas([[_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,X,_,_,_,_],
         [_,X,_,_,_,_],
         [_,X,_,_,_,_],
         [_,X,_,_,_,_],
         [_,_,_,_,_,_]],X) :- X \= v.

colunas([[_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,X,_,_,_,_],
         [_,X,_,_,_,_],
         [_,X,_,_,_,_],
         [_,X,_,_,_,_]],X) :- X \= v.

colunas([[_,_,X,_,_,_],
         [_,_,X,_,_,_],
         [_,_,X,_,_,_],
         [_,_,X,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_]],X) :- X \= v.

colunas([[_,_,_,_,_,_],
         [_,_,X,_,_,_],
         [_,_,X,_,_,_],
         [_,_,X,_,_,_],
         [_,_,X,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_]],X) :- X \= v.

colunas([[_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,X,_,_,_],
         [_,_,X,_,_,_],
         [_,_,X,_,_,_],
         [_,_,X,_,_,_],
         [_,_,_,_,_,_]],X) :- X \= v.

colunas([[_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,X,_,_,_],
         [_,_,X,_,_,_],
         [_,_,X,_,_,_],
         [_,_,X,_,_,_]],X) :- X \= v.

colunas([[_,_,_,X,_,_],
         [_,_,_,X,_,_],
         [_,_,_,X,_,_],
         [_,_,_,X,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_]],X) :- X \= v.

colunas([[_,_,_,_,_,_],
         [_,_,_,X,_,_],
         [_,_,_,X,_,_],
         [_,_,_,X,_,_],
         [_,_,_,X,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_]],X) :- X \= v.

colunas([[_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,X,_,_],
         [_,_,_,X,_,_],
         [_,_,_,X,_,_],
         [_,_,_,X,_,_],
         [_,_,_,_,_,_]],X) :- X \= v.

colunas([[_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,X,_,_],
         [_,_,_,X,_,_],
         [_,_,_,X,_,_],
         [_,_,_,X,_,_]],X) :- X \= v.

colunas([[_,_,_,_,X,_],
         [_,_,_,_,X,_],
         [_,_,_,_,X,_],
         [_,_,_,_,X,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_]],X) :- X \= v.

colunas([[_,_,_,_,_,_],
         [_,_,_,_,X,_],
         [_,_,_,_,X,_],
         [_,_,_,_,X,_],
         [_,_,_,_,X,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_]],X) :- X \= v.

colunas([[_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,X,_],
         [_,_,_,_,X,_],
         [_,_,_,_,X,_],
         [_,_,_,_,X,_],
         [_,_,_,_,_,_]],X) :- X \= v.

colunas([[_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,X,_],
         [_,_,_,_,X,_],
         [_,_,_,_,X,_],
         [_,_,_,_,X,_]],X) :- X \= v.

colunas([[_,_,_,_,_,X],
         [_,_,_,_,_,X],
         [_,_,_,_,_,X],
         [_,_,_,_,_,X],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_]],X) :- X \= v.

colunas([[_,_,_,_,_,_],
         [_,_,_,_,_,X],
         [_,_,_,_,_,X],
         [_,_,_,_,_,X],
         [_,_,_,_,_,X],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_]],X) :- X \= v.

colunas([[_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,X],
         [_,_,_,_,_,X],
         [_,_,_,_,_,X],
         [_,_,_,_,_,X],
         [_,_,_,_,_,_]],X) :- X \= v.

colunas([[_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,_],
         [_,_,_,_,_,X],
         [_,_,_,_,_,X],
         [_,_,_,_,_,X],
         [_,_,_,_,_,X]],X) :- X \= v.

diagonais([[X,_,_,_,_,_],
           [_,X,_,_,_,_],
           [_,_,X,_,_,_],
           [_,_,_,X,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_]],X) :- X \= v.

diagonais([[_,X,_,_,_,_],
           [_,_,X,_,_,_],
           [_,_,_,X,_,_],
           [_,_,_,_,X,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_]],X) :- X \= v.

diagonais([[_,_,X,_,_,_],
           [_,_,_,X,_,_],
           [_,_,_,_,X,_],
           [_,_,_,_,_,X],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_]],X) :- X \= v.

diagonais([[_,_,_,_,_,_],
           [X,_,_,_,_,_],
           [_,X,_,_,_,_],
           [_,_,X,_,_,_],
           [_,_,_,X,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_]],X) :- X \= v.

diagonais([[_,_,_,_,_,_],
           [_,X,_,_,_,_],
           [_,_,X,_,_,_],
           [_,_,_,X,_,_],
           [_,_,_,_,X,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_]],X) :- X \= v.

diagonais([[_,_,_,_,_,_],
           [_,_,X,_,_,_],
           [_,_,_,X,_,_],
           [_,_,_,_,X,_],
           [_,_,_,_,_,X],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_]],X) :- X \= v.

diagonais([[_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [X,_,_,_,_,_],
           [_,X,_,_,_,_],
           [_,_,X,_,_,_],
           [_,_,_,X,_,_],
           [_,_,_,_,_,_]],X) :- X \= v.

diagonais([[_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,X,_,_,_,_],
           [_,_,X,_,_,_],
           [_,_,_,X,_,_],
           [_,_,_,_,X,_],
           [_,_,_,_,_,_]],X) :- X \= v.

diagonais([[_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,X,_,_,_],
           [_,_,_,X,_,_],
           [_,_,_,_,X,_],
           [_,_,_,_,_,X],
           [_,_,_,_,_,_]],X) :- X \= v.

diagonais([[_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [X,_,_,_,_,_],
           [_,X,_,_,_,_],
           [_,_,X,_,_,_],
           [_,_,_,X,_,_]],X) :- X \= v.       
    
diagonais([[_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,X,_,_,_,_],
           [_,_,X,_,_,_],
           [_,_,_,X,_,_],
           [_,_,_,_,X,_]],X) :- X \= v.

diagonais([[_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,X,_,_,_],
           [_,_,_,X,_,_],
           [_,_,_,_,X,_],
           [_,_,_,_,_,X]],X) :- X \= v.

diagonais([[_,_,_,_,_,X],
           [_,_,_,_,X,_],
           [_,_,_,X,_,_],
           [_,_,X,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_]],X) :- X \= v.

diagonais([[_,_,_,_,X,_],
           [_,_,_,X,_,_],
           [_,_,X,_,_,_],
           [_,X,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_]],X) :- X \= v.

diagonais([[_,_,_,X,_,_],
           [_,_,X,_,_,_],
           [_,X,_,_,_,_],
           [X,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_]],X) :- X \= v.

diagonais([[_,_,_,_,_,_],
           [_,_,_,_,_,X],
           [_,_,_,_,X,_],
           [_,_,_,X,_,_],
           [_,_,X,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_]],X) :- X \= v.

diagonais([[_,_,_,_,_,_],
           [_,_,_,_,X,_],
           [_,_,_,X,_,_],
           [_,_,X,_,_,_],
           [_,X,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_]],X) :- X \= v.

diagonais([[_,_,_,_,_,_],
           [_,_,_,X,_,_],
           [_,_,X,_,_,_],
           [_,X,_,_,_,_],
           [X,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_]],X) :- X \= v.

diagonais([[_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,X],
           [_,_,_,_,X,_],
           [_,_,_,X,_,_],
           [_,_,X,_,_,_],
           [_,_,_,_,_,_]],X) :- X \= v.

diagonais([[_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,X,_],
           [_,_,_,X,_,_],
           [_,_,X,_,_,_],
           [_,X,_,_,_,_],
           [_,_,_,_,_,_]],X) :- X \= v.

diagonais([[_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,X,_,_],
           [_,_,X,_,_,_],
           [_,X,_,_,_,_],
           [X,_,_,_,_,_],
           [_,_,_,_,_,_]],X) :- X \= v.

diagonais([[_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,X],
           [_,_,_,_,X,_],
           [_,_,_,X,_,_],
           [_,_,X,_,_,_]],X) :- X \= v.

diagonais([[_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,X,_],
           [_,_,_,X,_,_],
           [_,_,X,_,_,_],
           [_,X,_,_,_,_]],X) :- X \= v.

diagonais([[_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,_,_,_],
           [_,_,_,X,_,_],
           [_,_,X,_,_,_],
           [_,X,_,_,_,_],
           [X,_,_,_,_,_]],X) :- X \= v.

cheio([L1,L2,L3,L4,L5,L6,L7]) :-
    append(L1, L2, L12),
    append(L12, L3, L123),
    append(L123, L4, L1234),
    append(L1234, L5, L12345),
    append(L12345, L6, L123456),
    append(L123456, L7, L1234567),
    \+ member(v, L1234567).

%função de utilidade, retorna o valor dos estados terminais, 1 ganha -1 perde
valor(G, 1) :- linhas(G,x).
valor(G, 1) :- colunas(G,x).
valor(G, 1) :- diagonais(G,x).
valor(G, -1) :- linhas(G,o).
valor(G, -1) :- colunas(G,o).
valor(G, -1) :- diagonais(G,o).
valor(_, 0).